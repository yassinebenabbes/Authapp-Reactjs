{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"C:/Users/yassine/Documents/front/authapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/yassine/Documents/front/authapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/yassine/Documents/front/authapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/yassine/Documents/front/authapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import\"./App.css\";import\"../node_modules/bootstrap/dist/css/bootstrap.min.css\";import Home from\"./components/home.component\";import Nav from\"./components/nav.component\";import Login from\"./components/login.component\";import Forgot from\"./components/forgot.component\";import Register from\"./components/register.component\";import{BrowserRouter,Route,Switch}from\"react-router-dom\";import{Component}from\"react\";import axios from\"axios\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};_this.setdatauser=function(user){_this.setState({user:user});};_this.componentDidMount=function(){if(localStorage.getItem(\"token\")!=null){//if token exists get data of user else show youre not login in home.component\nvar head={headers:{Authorization:\"Bearer \"+localStorage.getItem(\"token\")}};axios.get(\"http://127.0.0.1:8000/api/user\",head)//get data user from api laravel and specify token \n.then(function(res){// console.log(res.data);\n_this.setdatauser(res.data);//set user data using the function setdatauser defined\n}).catch(function(err){console.log(err);});}};return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Nav,{user:this.state.user,setdatauser:this.setdatauser}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"auth-inner\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",component:function component(){return/*#__PURE__*/_jsx(Home,{user:_this2.state.user});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",component:function component(){return/*#__PURE__*/_jsx(Login,{setdatauser:_this2.setdatauser});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/register\",component:Register}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/Forgot\",component:Forgot})]})})})]})});}}]);return App;}(Component);export{App as default};","map":{"version":3,"sources":["C:/Users/yassine/Documents/front/authapp/src/App.js"],"names":["Home","Nav","Login","Forgot","Register","BrowserRouter","Route","Switch","Component","axios","App","state","setdatauser","user","setState","componentDidMount","localStorage","getItem","head","headers","Authorization","get","then","res","data","catch","err","console","log"],"mappings":"osBAAA,MAAO,WAAP,CACA,MAAO,sDAAP,CACA,MAAOA,CAAAA,IAAP,KAAiB,6BAAjB,CACA,MAAOC,CAAAA,GAAP,KAAgB,4BAAhB,CACA,MAAOC,CAAAA,KAAP,KAAkB,8BAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,+BAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,iCAArB,CACA,OAASC,aAAT,CAAwBC,KAAxB,CAA+BC,MAA/B,KAA6C,kBAA7C,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEqBC,CAAAA,G,+SACnBC,K,CAAQ,E,OACRC,W,CAAc,SAACC,IAAD,CAAU,CACtB,MAAKC,QAAL,CAAc,CACZD,IAAI,CAAEA,IADM,CAAd,EAGD,C,OACDE,iB,CAAoB,UAAM,CACxB,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,GAAiC,IAApC,CAAyC,CAAE;AACzC,GAAMC,CAAAA,IAAI,CAAG,CACbC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYJ,YAAY,CAACC,OAAb,CAAqB,OAArB,CADpB,CADI,CAAb,CAKFR,KAAK,CACFY,GADH,CACO,gCADP,CACyCH,IADzC,CAC+C;AAD/C,CAEGI,IAFH,CAEQ,SAACC,GAAD,CAAS,CACb;AACA,MAAKX,WAAL,CAAiBW,GAAG,CAACC,IAArB,EAA4B;AAC7B,CALH,EAMGC,KANH,CAMS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CARH,EASC,CAEF,C,sEACQ,iBACP,mBACE,KAAC,aAAD,wBACE,aAAK,SAAS,CAAC,KAAf,wBACE,KAAC,GAAD,EAAK,IAAI,CAAE,KAAKf,KAAL,CAAWE,IAAtB,CAA4B,WAAW,CAAE,KAAKD,WAA9C,EADF,cAEE,YAAK,SAAS,CAAC,cAAf,uBACE,YAAK,SAAS,CAAC,YAAf,uBAEE,MAAC,MAAD,yBAEE,KAAC,KAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,GAFP,CAGE,SAAS,CAAE,wCAAM,KAAC,IAAD,EAAM,IAAI,CAAE,MAAI,CAACD,KAAL,CAAWE,IAAvB,EAAN,EAHb,EAFF,cAQE,KAAC,KAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAE,wCAAM,KAAC,KAAD,EAAO,WAAW,CAAE,MAAI,CAACD,WAAzB,EAAN,EAHb,EARF,cAcE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,WAAlB,CAA8B,SAAS,CAAER,QAAzC,EAdF,cAeE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,SAAlB,CAA4B,SAAS,CAAED,MAAvC,EAfF,GAFF,EADF,EAFF,GADF,EADF,CA8BD,C,iBAzD8BK,S,SAAZE,G","sourcesContent":["import \"./App.css\";\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport Home from \"./components/home.component\";\nimport Nav from \"./components/nav.component\";\nimport Login from \"./components/login.component\";\nimport Forgot from \"./components/forgot.component\";\nimport Register from \"./components/register.component\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { Component } from \"react\";\nimport axios from \"axios\";\n\nexport default class App extends Component {\n  state = {};\n  setdatauser = (user) => {\n    this.setState({\n      user: user,\n    });\n  };//set data user \n  componentDidMount = () => {\n    if(localStorage.getItem(\"token\") != null){ //if token exists get data of user else show youre not login in home.component\n      const head = {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n      },\n    };\n    axios\n      .get(\"http://127.0.0.1:8000/api/user\", head) //get data user from api laravel and specify token \n      .then((res) => {\n        // console.log(res.data);\n        this.setdatauser(res.data); //set user data using the function setdatauser defined\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    }\n    \n  };\n  render() {\n    return (\n      <BrowserRouter>\n        <div className=\"App\">\n          <Nav user={this.state.user} setdatauser={this.setdatauser} />\n          <div className=\"auth-wrapper\">\n            <div className=\"auth-inner\">\n              {/* switch for routes  */}\n              <Switch>  \n                {/* route home with user data */}\n                <Route\n                  exact\n                  path=\"/\"\n                  component={() => <Home user={this.state.user} />}\n                />\n                {/* route login with user data for testing if is already connected */}\n                <Route\n                  exact\n                  path=\"/login\"\n                  component={() => <Login setdatauser={this.setdatauser} />}\n                />\n                {/* Route for register */}\n                <Route exact path=\"/register\" component={Register} />\n                <Route exact path=\"/Forgot\" component={Forgot} />\n              </Switch>\n              {/* end switch */}\n            </div>\n          </div>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}